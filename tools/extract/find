#!/bin/rc

dir = `(dirname $0)
hex = $dir/hex
test -d $hex || exit 1

fn search {
  for (f in `(ls $hex)) {
    echo ' '$f:
    grep -bio $1 $hex/$f | awk -F: '{printf "  \033[31m%X\033[0m\n", $1/2}'
  }
  echo > /dev/tty
}

echo 'bytes: '$1
search $1

val = `{ echo -n $1 | rev | sed -E 's/(.)(.)/\2\1/g' }
echo 'reversed: '$val
search $val

exit 0
